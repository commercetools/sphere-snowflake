@(order: Order)

<div class="order-item">

    <div class="order-line-items">
        <h4>Line items</h4>
        <ul>
            @for(item <- order.getLineItems) {
            <li>
                <span class="item-quantity">@item.getQuantity</span>
                <span class="item-name">@item.getProductName</span>
                <span class="item-price">@printPrice(getPrice(item))</span>
                <ul class="item-attributes">
                    @for(attribute <- item.getVariant.getAttributes) {
                    <li>@attribute.getName: @attribute.getString</li>
                    }
                </ul>
            </li>
            }
        </ul>
    </div>

    <div class="order-address">
        @if(isSet(order.getShippingInfo)) {
        <h4>Shipping method</h4>
        @order.getShippingInfo.getShippingMethodName (@printPrice(getPrice(order.getShippingInfo)))
        }

        @if(isSet(order.getShippingAddress)) {
        <h4>Shipping address</h4>
        @defining(order.getShippingAddress) { shippingAddress =>
        <ul class="address shipping-address">
            <li>
                <span class="first-name">@shippingAddress.getFirstName</span>
                <span class="last-name">@shippingAddress.getLastName</span>
                <span class="company">@shippingAddress.getCompany</span>
            </li>
            <li>
                <span class="street">@shippingAddress.getStreetName</span>
            </li>
            <li>
                <span class="street">@shippingAddress.getStreetNumber</span>
            </li>
            <li>
                <span class="postal-code">@shippingAddress.getPostalCode</span>
                <span class="city">@shippingAddress.getCity</span>
                <span class="country">@shippingAddress.getCountry.getName</span>
            </li>
            <li>
                <span class="phone">@shippingAddress.getPhone</span>
            </li>
            <li>
                <span class="mobile">@shippingAddress.getMobile</span>
            </li>
            <li>
                <span class="email">@shippingAddress.getEmail</span>
            </li>
        </ul>
        }
        }

        @if(isSet(order.getBillingAddress)) {
        <h4>Billing address</h4>
        @defining(order.getBillingAddress) { billingAddress =>
        <ul class="address billing-address">
            <li>
                <span class="first-name">@billingAddress.getFirstName</span>
                <span class="last-name">@billingAddress.getLastName</span>
                <span class="company">@billingAddress.getCompany</span>
            </li>
            <li>
                <span class="street">@billingAddress.getStreetName</span>
            </li>
            <li>
                <span class="street">@billingAddress.getStreetNumber</span>
            </li>
            <li>
                <span class="postal-code">@billingAddress.getPostalCode</span>
                <span class="city">@billingAddress.getCity</span>
                <span class="country">@billingAddress.getCountry.getName</span>
            </li>
            <li>
                <span class="phone">@billingAddress.getPhone</span>
            </li>
            <li>
                <span class="mobile">@billingAddress.getMobile</span>
            </li>
            <li>
                <span class="email">@billingAddress.getEmail</span>
            </li>
        </ul>
        }
        }

        <h4>Payment</h4>
        @order.getPaymentState.name
    </div>

    <div class="order-price-summary">
        <h4>Price detail</h4>
        <div class="order-summary">
            <ul>
                <li class="subtotal">
                    Total line items price
                    <span>@printPrice(getLineItemsTotalPrice(order))</span>
                </li>

                @for(item <- order.getCustomLineItems) {
                <li class="customLineItems">
                    @item.getName.get
                    <span>@printPrice(getPrice(item))</span>
                </li>
                }

                @if(isSet(order.getShippingInfo)){
                <li>
                    Shipping cost
                    <span>@printPrice(getPrice(order.getShippingInfo))</span>
                </li>
                }

                <li class="total">
                    Total price
                    <span>@printPrice(getPrice(order))</span>
                </li>

                <li class="taxes">
                    @for(taxPortion <- order.getTaxedPrice.getTaxPortions) {
                    incl. @getPercentage(taxPortion.getRate)% VAT
                    <span>@printPrice(taxPortion.getAmount)</span>
                    }
                </li>
            </ul>
        </div>
    </div>
</div>